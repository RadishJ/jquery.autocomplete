!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){var b=new function(){currentInputText=null,this.functionalKeyArray=[9,20,13,16,17,18,91,92,93,45,36,33,34,35,37,39,112,113,114,115,116,117,118,119,120,121,122,123,144,19,145,40,38,27],this.holdText=null,this.init=function(){a("body").append("<div id='autoCompleteSelector' class='autoCompleteSelector-layout'></div>"),a(document).bind("mousedown",function(c){var d=a(c.target);d.parents().andSelf().is("#autoCompleteSelector")||d.is(a(currentInputText))||b.hideSelector()}),a("#autoCompleteSelector").delegate("tr","mouseover",function(){a("#autoCompleteSelector tr").removeClass("ct"),a(this).addClass("ct")}).delegate("tr","mouseout",function(){a("#autoCompleteSelector tr").removeClass("ct")}),a("#autoCompleteSelector").delegate("tr","click",function(){a(currentInputText).val(a(this).find("div:last").html());var c=a(currentInputText).data("config").callback;"none"!=a("#autoCompleteSelector").css("display")&&c&&a.isFunction(c)&&c(a(this).data("jsonData")),b.hideSelector()})},this.selector=function(c){function d(c){if(null==c||c.length<=0)return void b.hideSelector();for(var d="<table><tbody>",e=0;e<c.length;e++)d+="<tr><td><div>"+c[e].title+"</div></td></tr>";d+="</tbody></table>",h.html(d),h.show(),h.find("tr:first").addClass("ct"),h.find("tr").each(function(b){a(this).data("jsonData",c[b])})}function e(a,b){for(var c=new Array,d=0;d<a.length;d++)a[d].title.indexOf(b)>-1&&c.push(a[d]);return c}function f(){var b=event.currentTarget,c=a(b).data("config"),f=a(b).offset();c.width<=0&&(c.width=a(b).outerWidth()-2),h.width(c.width);var g=a(b).outerHeight()-1;h.css({top:f.top+g,left:f.left});var i=c.data,j=c.url;if(null!=i&&a.isArray(i)){var k=a.trim(a(b).val());if(""!=k)d(e(i,k));else{for(var l=new Array,m=0;m<i.length;m++)l.push(i[m]);d(l)}}else null!=j&&""!=j&&a.post(j,{},function(a){d(a.data)},"json")}a("body").length>0&&a("#autoCompleteSelector").length<=0&&b.init();var g=this,h=a("#autoCompleteSelector");this.config={width:0,url:null,data:null,callback:null},a.extend(this.config,c),g.data("config",this.config),g.keydown(function(c){var d=c.currentTarget;switch(c.keyCode){case 40:if("none"==h.css("display"))return;var e=h.find(".ct");e=e.length<=0?h.find("tr:first"):e.next(),h.find("tr").removeClass("ct"),e.length>0?(e.addClass("ct"),a(d).val(e.find("div:last").html()),h.scrollTop(e[0].offsetTop-h.height()+e.height())):a(d).val(b.holdText);break;case 38:if("none"==h.css("display"))return;var f=h.find(".ct");f=f.length<=0?h.find("tr:last"):f.prev(),h.find("tr").removeClass("ct"),f.length>0?(f.addClass("ct"),a(d).val(f.find("div:last").html()),h.scrollTop(f[0].offsetTop-h.height()+f.height())):a(d).val(b.holdText);break;case 27:b.hideSelector()}}),g.keyup(function(c){for(var g=c.keyCode,i=c.currentTarget,j=c.ctrlKey,k=!1,l=0;l<b.functionalKeyArray.length;l++)if(g==b.functionalKeyArray[l]){k=!0;break}if(!k&&(!j||j&&67==g||j&&88==g)){var m=a(i).data("config"),n=a(i).offset();m.width<=0&&(m.width=a(i).outerWidth()-2),h.width(m.width);var o=a(i).outerHeight()-1;h.css({top:n.top+o,left:n.left});var p=m.data,q=m.url,r=a.trim(a(i).val());if(null==r||""==r)return void f();null!=q&&""!=q?a.post(q,{keyword:r},function(a){d(a.data)},"json"):d(e(p,r)),b.holdText=a(i).val()}if(13==g){if("none"==h.css("display"))return;var s=h.find(".ct");s.length>0&&a(currentInputText).val(s.text());var t=a(i).data("config").callback;"none"!=h.css("display")&&(t&&a.isFunction(t)&&t(h.find(".ct").data("jsonData")),h.hide())}}),g.focus(function(a){currentInputText=a.currentTarget,f()})},this.hideSelector=function(){var b=a("#autoCompleteSelector");"none"!=b.css("display")&&(b.find("tr").removeClass("ct"),b.hide())}};a.fn.autoCompleteSelector=b.selector});
/*! build time: 2015-53-26 16:11:00 */